<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <a-asset-item id="photoFrame" src="./assets/photoFrame.glb"></a-asset-item>
        <img id="ss1" src="./assets/ss/ss1.png" crossorigin="anonymous"/>
        <img id="ss2" src="./assets/ss/ss2.png" crossorigin="anonymous"/>
        <img id="ss3" src="./assets/ss/ss3.png" crossorigin="anonymous"/>
        <img id="ss4" src="./assets/ss/ss4.png" crossorigin="anonymous"/>
        <!-- geometry="primitive: plane; width: 0.544768; height: 0.786432" -->
        <a-mixin
          id="frame"
          geometry="primitive: plane; width: 1.82; height: 1.03"
          material="color: white; shader: phong"
          animation__scale="property: scale; to: 1.2 1.2 1.2; dur: 200; startEvents: mouseenter"
          animation__scale_reverse="property: scale; to: 1 1 1; dur: 200; startEvents: mouseleave"
        ></a-mixin>
        <a-mixin
          id="mixInImage"
          geometry="primitive: plane; width: 1.80; height: 1.01"
          material="color: white; shader: phong"
          position="0 0 0.005"
         ></a-mixin>
      </a-assets>
      <!-- <a-gltf-model position="0 1 -2" rotation="0 0 -90" scale="1.0 1.0 1.0" src="#photoFrame"> -->
      <!-- <a-entity light="color: #FFF; intensity: 1.5" position="-1 1 0"></a-entity> -->
      <a-entity light="color: #FFF; intensity: 0.8" position="0 0 0"></a-entity>
      <a-entity light="type: directional; color: #FFF; intensity: 2.2" position="0 1 1"></a-entity>
      <a-camera position="0 1.0 0" rotation="0 0 0"></a-camera>
      <a-entity position="0 0.75 -3" rotation="0 -90 0" scale="1. 1. 1." gltf-model="#photoFrame"></a-entity>
      <!-- <a-entity id="" mixin="movieImage" material="src: #ponyo" visible="false"></a-entity> -->
      <a-entity id="ui" position="0 1.6 -2.5">
        <a-entity id="menu" highlight>
          <a-entity id="ss-frame" position="0 -0.82 -0.50" mixin="frame" class="raycastable menu-button">
            <a-entity id="ss" mixin="mixInImage" material="src: #ss1">
            </a-entity>
          </a-entity>
        </a-entity>
      </a-entity>
      <!-- <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9"></a-box> -->
      <!-- <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere> -->
      <!-- <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder> -->
      <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
      <a-sky color="#C0C0FF"></a-sky>
    </a-scene>
  </body>
  <script>
    const imageList = [
      './assets/ss1.png'
    ];

    function getMeta(url){
      const img = new Image();
      img.addEventListener("load", function() {
          alert( this.naturalWidth +' '+ this.naturalHeight );
      });
      img.src = url;
    }

    // getMeta(imageList[0]);
    document.getElementById("ss-frame").setAttribute('geometry', 'primitive: plane; width: 1.82; height: 1.03');
    document.getElementById("ss").setAttribute('geometry', 'primitive: plane; width: 1.80; height: 1.01');

    const ssElm = document.getElementById("ss");
    let idx = 1;
    setInterval(() => {
      ssElm.setAttribute('material', 'src: ' + '#ss' + idx);
      idx++;
      if (idx == 5) idx = 1;
    }, 1000)

  </script>
</html>